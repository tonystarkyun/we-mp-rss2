# WeRSS Linux åˆ†å‘éƒ¨ç½²æŒ‡å—

## åˆ†å‘æ–‡ä»¶æ¸…å•

å°†æ•´ä¸ª `dist` æ–‡ä»¶å¤¹æ‰“åŒ…åˆ†å‘ï¼ŒåŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

```
dist/
â”œâ”€â”€ we-rss-linux          # ä¸»å¯æ‰§è¡Œæ–‡ä»¶ (614MB)
â”œâ”€â”€ config.yaml           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                 # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ db.db            # SQLiteæ•°æ®åº“
â”‚   â”œâ”€â”€ cache/           # ç¼“å­˜ç›®å½•
â”‚   â””â”€â”€ files/           # ç”¨æˆ·æ–‡ä»¶ç›®å½•
â””â”€â”€ static/              # å‰ç«¯é™æ€æ–‡ä»¶
    â”œâ”€â”€ assets/          # JS/CSSèµ„æº
    â”œâ”€â”€ index.html       # å‰ç«¯å…¥å£
    â””â”€â”€ logo.svg         # å›¾æ ‡æ–‡ä»¶
```

## ç›®æ ‡ç³»ç»Ÿè¦æ±‚

### å¿…éœ€æ¡ä»¶

1. **ç³»ç»Ÿæ¶æ„**: x86_64 (64ä½)
2. **å†…æ ¸ç‰ˆæœ¬**: GNU/Linux 3.2.0 æˆ–æ›´é«˜
3. **åŸºç¡€åº“**: 
   - glibc 2.31+ (é€šå¸¸Ubuntu 20.04+ã€CentOS 8+ã€Debian 10+éƒ½æ»¡è¶³)
   - libdl.so.2, libz.so.1, libpthread.so.0, libc.so.6

### æ¨èæ¡ä»¶

1. **æ˜¾ç¤ºç¯å¢ƒ**: 
   - X11 æˆ– Wayland (ç”¨äºäºŒç»´ç ç”Ÿæˆ)
   - æ”¯æŒ `$DISPLAY` ç¯å¢ƒå˜é‡
2. **å†…å­˜**: å»ºè®® 2GB+ RAM  
3. **ç£ç›˜ç©ºé—´**: 1GB+ å¯ç”¨ç©ºé—´
4. **ç½‘ç»œ**: å¤–ç½‘è®¿é—®æƒé™ï¼ˆç”¨äºçˆ¬è™«åŠŸèƒ½ï¼‰

### æµè§ˆå™¨ä¾èµ–è¯´æ˜

**âœ… æ— éœ€å®‰è£…æµè§ˆå™¨ï¼** 

æœ¬æ‰“åŒ…æ–‡ä»¶å·²å†…ç½®æ‰€æœ‰å¿…è¦çš„æµè§ˆå™¨ï¼š
- **Firefox 1490** (ç”¨äºäºŒç»´ç ç”Ÿæˆ)
- **Chromium 1187** (ç”¨äºç½‘é¡µçˆ¬è™«)
- **ChromeDriver** (ç”¨äºSeleniumè‡ªåŠ¨åŒ–)

å³ä½¿ç›®æ ‡æœºå™¨å®Œå…¨æ²¡æœ‰å®‰è£…Firefoxã€Chromeæˆ–Chromiumï¼Œåº”ç”¨ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚

## å…¼å®¹æ€§æµ‹è¯•

### å·²æµ‹è¯•å…¼å®¹çš„ç³»ç»Ÿ
- âœ… Ubuntu 22.04 LTS (å¼€å‘ç¯å¢ƒ)
- âœ… Ubuntu 20.04 LTS (ç†è®ºå…¼å®¹)

### å¯èƒ½å…¼å®¹çš„ç³»ç»Ÿ
- ğŸŸ¡ Debian 10/11/12
- ğŸŸ¡ CentOS 8/Rocky Linux 8+
- ğŸŸ¡ RHEL 8+
- ğŸŸ¡ openSUSE Leap 15+
- ğŸŸ¡ Arch Linux (æœ€æ–°)

### ä¸å…¼å®¹çš„ç³»ç»Ÿ
- âŒ CentOS 7 (glibcç‰ˆæœ¬è¿‡ä½)
- âŒ Ubuntu 18.04 (glibcå¯èƒ½è¿‡ä½)
- âŒ 32ä½ç³»ç»Ÿ
- âŒ ARMæ¶æ„ (éœ€è¦é‡æ–°ç¼–è¯‘)

## éƒ¨ç½²æ­¥éª¤

### 1. ä¼ è¾“æ–‡ä»¶
```bash
# æ‰“åŒ…distç›®å½•
tar -czf we-rss-linux.tar.gz dist/

# ä¼ è¾“åˆ°ç›®æ ‡æœåŠ¡å™¨
scp we-rss-linux.tar.gz user@target-server:~/

# åœ¨ç›®æ ‡æœåŠ¡å™¨è§£å‹
tar -xzf we-rss-linux.tar.gz
cd dist/
```

### 2. æ£€æŸ¥ä¾èµ–
```bash
# æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶ä¾èµ–
ldd we-rss-linux

# æ£€æŸ¥æ˜¯å¦æœ‰ç¼ºå¤±çš„åº“
ldd we-rss-linux | grep "not found"
```

### 3. è®¾ç½®æƒé™
```bash
# ç¡®ä¿å¯æ‰§è¡Œæƒé™
chmod +x we-rss-linux

# æ£€æŸ¥æ˜¯å¦èƒ½æ­£å¸¸å¯åŠ¨
./we-rss-linux --version
```

### 4. å¯åŠ¨æœåŠ¡
```bash
# åˆå§‹åŒ–å¯åŠ¨ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
./we-rss-linux -init True

# åç»­å¯åŠ¨
./we-rss-linux

# åå°è¿è¡Œ
nohup ./we-rss-linux > app.log 2>&1 &
```

## é…ç½®è¯´æ˜

### ç«¯å£é…ç½®
é»˜è®¤ç«¯å£: `8001`
å¦‚éœ€ä¿®æ”¹ï¼Œç¼–è¾‘ `config.yaml`:
```yaml
port: 8080  # ä¿®æ”¹ä¸ºç›®æ ‡ç«¯å£
```

### æ•°æ®åº“è·¯å¾„
é»˜è®¤ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `data/db.db`ï¼Œä¼šè‡ªåŠ¨åœ¨å½“å‰ç›®å½•åˆ›å»ºæ•°æ®æ–‡ä»¶

### è®¿é—®åœ°å€
```
http://æœåŠ¡å™¨IP:8001
```

## å¸¸è§é—®é¢˜è§£å†³

### 0. ç›®æ ‡æœºå™¨æ²¡æœ‰æµè§ˆå™¨
**ä¸ç”¨æ‹…å¿ƒï¼** åº”ç”¨å·²å†…ç½®æ‰€æœ‰å¿…è¦çš„æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ï¼š
- Firefox 1490 (22MB+ï¼Œç”¨äºäºŒç»´ç ç”Ÿæˆ)
- Chromium 1187 (100MB+ï¼Œç”¨äºç½‘é¡µçˆ¬è™«)  
- ChromeDriver (ç”¨äºè‡ªåŠ¨åŒ–)

æ— è®ºç›®æ ‡æœºå™¨æ˜¯å¦å®‰è£…äº†Firefoxã€Chromeæˆ–å…¶ä»–æµè§ˆå™¨ï¼Œéƒ½ä¸ä¼šå½±å“åŠŸèƒ½ã€‚

### 1. æƒé™é—®é¢˜
```bash
# å¦‚æœæç¤ºæƒé™ä¸å¤Ÿ
chmod +x we-rss-linux
chmod -R 755 data/
```

### 2. ç«¯å£å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep 8001

# ä¿®æ”¹config.yamlä¸­çš„ç«¯å£å·
```

### 3. ä¾èµ–åº“ç¼ºå¤±
```bash
# Ubuntu/Debian å®‰è£…åŸºç¡€åº“
sudo apt-get update
sudo apt-get install libc6-dev libssl-dev

# CentOS/RHEL å®‰è£…åŸºç¡€åº“
sudo yum install glibc-devel openssl-devel
```

### 4. æ˜¾ç¤ºç¯å¢ƒé—®é¢˜ (æ— GUIç¯å¢ƒ)
å¦‚æœæ˜¯çº¯å‘½ä»¤è¡ŒæœåŠ¡å™¨ï¼Œéœ€è¦å®‰è£…è™šæ‹Ÿæ˜¾ç¤ºï¼š
```bash
# å®‰è£…xvfb
sudo apt-get install xvfb  # Ubuntu/Debian
sudo yum install xorg-x11-server-Xvfb  # CentOS/RHEL

# å¯åŠ¨è™šæ‹Ÿæ˜¾ç¤º
export DISPLAY=:99
Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &

# ç„¶åå¯åŠ¨åº”ç”¨
./we-rss-linux -init True
```

## ç³»ç»ŸæœåŠ¡é…ç½® (å¯é€‰)

åˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶ `/etc/systemd/system/we-rss.service`:

```ini
[Unit]
Description=WeRSS Service
After=network.target

[Service]
Type=simple
User=www-data
WorkingDirectory=/path/to/dist
ExecStart=/path/to/dist/we-rss-linux
Restart=always
RestartSec=3

[Install]
WantedBy=multi-user.target
```

å¯åŠ¨æœåŠ¡:
```bash
sudo systemctl daemon-reload
sudo systemctl enable we-rss
sudo systemctl start we-rss
sudo systemctl status we-rss
```

## å®‰å…¨å»ºè®®

1. **é˜²ç«å¢™é…ç½®**: åªå¼€æ”¾å¿…è¦ç«¯å£ (å¦‚8001)
2. **åå‘ä»£ç†**: å»ºè®®ä½¿ç”¨nginxåšåå‘ä»£ç†å¹¶å¯ç”¨HTTPS
3. **ç”¨æˆ·æƒé™**: ä¸è¦ä½¿ç”¨rootç”¨æˆ·è¿è¡Œåº”ç”¨
4. **å®šæœŸå¤‡ä»½**: å¤‡ä»½ `data/` ç›®å½•ä¸­çš„æ•°æ®åº“å’Œæ–‡ä»¶

## éªŒè¯æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·éªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] åº”ç”¨èƒ½æ­£å¸¸å¯åŠ¨å¹¶ç›‘å¬æŒ‡å®šç«¯å£
- [ ] èƒ½é€šè¿‡æµè§ˆå™¨è®¿é—®Webç•Œé¢
- [ ] èƒ½æ­£å¸¸ç™»å½• (zkzc/wf2151328)
- [ ] äºŒç»´ç ç”ŸæˆåŠŸèƒ½æ­£å¸¸
- [ ] çˆ¬è™«åŠŸèƒ½æ­£å¸¸ï¼ˆåœ¨æœ‰ç½‘ç»œçš„ç¯å¢ƒä¸‹ï¼‰
- [ ] æ•°æ®åº“è¯»å†™æ­£å¸¸

---

**æ³¨æ„**: æ­¤å¯æ‰§è¡Œæ–‡ä»¶åŒ…å«äº†å®Œæ•´çš„Pythonè¿è¡Œæ—¶å’Œæ‰€æœ‰ä¾èµ–ï¼Œä½†ä»éœ€è¦ç³»ç»Ÿæä¾›åŸºç¡€çš„å…±äº«åº“æ”¯æŒã€‚å¦‚æœåœ¨æŸäº›ç‰¹å®šç³»ç»Ÿä¸Šé‡åˆ°å…¼å®¹æ€§é—®é¢˜ï¼Œå¯èƒ½éœ€è¦åœ¨ç›®æ ‡ç³»ç»Ÿä¸Šé‡æ–°ç¼–è¯‘æ‰“åŒ…ã€‚